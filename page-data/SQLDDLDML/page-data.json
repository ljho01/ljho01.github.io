{"componentChunkName":"component---src-templates-blog-post-js","path":"/SQLDDLDML/","result":{"data":{"site":{"siteMetadata":{"title":"ljho01"}},"markdownRemark":{"id":"7f0d1f0b-ca5a-5ecd-b24d-3bb2557eabd4","excerpt":"DDL (Data Definition Language) DDL (Data Definition Language) CREATE ALTER DROP 데이터를 정의하는 역할이다. db의 틀을 만들 때 사용하는 것들이다. CREATE…","html":"<h1 id=\"ddl-data-definition-language\" style=\"position:relative;\"><a href=\"#ddl-data-definition-language\" aria-label=\"ddl data definition language permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DDL (Data Definition Language)</h1>\n<h1 id=\"ddl-data-definition-language-1\" style=\"position:relative;\"><a href=\"#ddl-data-definition-language-1\" aria-label=\"ddl data definition language 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DDL (Data Definition Language)</h1>\n<ul>\n<li>CREATE</li>\n<li>ALTER</li>\n<li>DROP</li>\n</ul>\n<p>데이터를 정의하는 역할이다. db의 틀을 만들 때 사용하는 것들이다.</p>\n<h2 id=\"create\" style=\"position:relative;\"><a href=\"#create\" aria-label=\"create permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CREATE</h2>\n<p>테이블을 만들 때 사용</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">CREATE TABLE A (\r\n\tA_id INTEGER PRIMARY KEY,\r\n\tname TEXT NOT NULL, # NULL이 아님\r\n    password TEXT UNIQUE DEFAULT '1234', # 중복되지 않아야 함, 기본값 있음.\r\n    phone TEXT NOT NULL UNIQUE CHECK (LENGTH(phone) >= 10), # 길이가 10 이상이어야함\r\n);</code></pre></div>\n<p>여러 키워드들이 있다. <code class=\"language-text\">PRIMARY KEY</code>의 경우 아래와 같이 따로 지정해줘도 된다.\r\n<code class=\"language-text\">UNIQUE</code> 제약조건의 경우 <code class=\"language-text\">NULL</code>의 중복을 다루지 않는다. 모든 <code class=\"language-text\">NULL</code>이 고유하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">id INTEGER\r\nphone TEXT NOT NULL ...\r\nPRIMARY KEY(id)</code></pre></div>\n<p>데이터 테이블 <code class=\"language-text\">pandas</code>의 <code class=\"language-text\">dataframe</code>으로 불러오기\r\n<code class=\"language-text\">pd.read_sql_query(\"SELECT * FROM A\", conn)</code></p>\n<h3 id=\"외부-테이블-값-참조하기\" style=\"position:relative;\"><a href=\"#%EC%99%B8%EB%B6%80-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B0%92-%EC%B0%B8%EC%A1%B0%ED%95%98%EA%B8%B0\" aria-label=\"외부 테이블 값 참조하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>외부 테이블 값 참조하기</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">CREATE TABLE B (\r\n\tid INTEGER PRIMARY KEY,\r\n\tA_id INTEGER,\r\n    FOREIGN KEY (A_id)\r\n    \tREFERENCES A(A_id) # A 테이블의 A_id를 참조한다.\r\n        \tON DELETE CASCADE, # A 테이블에서 데이터가 삭제되면 B에서도 자동으로 삭제한다.\r\n)</code></pre></div>\n<p><code class=\"language-text\">ON UPDATE</code>, <code class=\"language-text\">ON CREATE</code> / <code class=\"language-text\">SET NULL</code>, <code class=\"language-text\">SET DEFAULT</code> 등등 많다. <a href=\"https://sqlitetutorial.net/sqlite-foreign-key/\">참고</a></p>\n<h2 id=\"alter\" style=\"position:relative;\"><a href=\"#alter\" aria-label=\"alter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ALTER</h2>\n<p>기존 테이블을 바꿀 때 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">CREATE TABLE devices (\r\n\tname TEXT NOT NULL\r\n    model TEXT NOT NULL\r\n    serial INTEGER NOT NULL UNIQUE\r\n);</code></pre></div>\n<p>테이블의 이름 변경</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ALTER TABLE devices RENAME TO phones;</code></pre></div>\n<p>열 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ALTER TABLE phones ADD COLUMN factory TEXT NOT NULL;</code></pre></div>\n<p>열 이름 변경</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ALTER TABLE phones RENAME COLUMN factory TO country;</code></pre></div>\n<h2 id=\"drop\" style=\"position:relative;\"><a href=\"#drop\" aria-label=\"drop permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DROP</h2>\n<p>삭제하는 역할이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">DROP TABLE IF EXISTS phone; # 존재하면 삭제하기</code></pre></div>\n<h1 id=\"sqlite-덤프\" style=\"position:relative;\"><a href=\"#sqlite-%EB%8D%A4%ED%94%84\" aria-label=\"sqlite 덤프 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQLite 덤프</h1>\n<p>DB 내 테이블의 목록, 테이블의 구조 등을 불러온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">script = \"\"\"\r\nSELECT name FROM sqlite_master\r\nWHERE \r\n\ttype = 'table' AND \r\n    name NOT LIKE 'sqlite_%'\r\n\"\"\"\r\ndf = pd.read_sql_query(script, conn)</code></pre></div>\n<p><code class=\"language-text\">sqlite_master</code>에서 전부를 뽑아내면 가장 많은 정보를 뽑을 수 있다.</p>\n<h1 id=\"dml-data-manipulation-language\" style=\"position:relative;\"><a href=\"#dml-data-manipulation-language\" aria-label=\"dml data manipulation language permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DML (Data Manipulation language)</h1>\n<p>테이블 내 데이터를 조작할 때 사용함\r\n<strong>CRUD\r\nSELECT(READ) / INSERT(CREATE) / UPDATE(UPDATE) / DELETE(DELETE)</strong></p>\n<h2 id=\"selectfrom\" style=\"position:relative;\"><a href=\"#selectfrom\" aria-label=\"selectfrom permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SELECT(FROM)</h2>\n<p><code class=\"language-text\">SELECT column0, column1, ... FROM tablename;</code></p>\n<p>파이썬의 경우 <code class=\"language-text\">cur.execute()</code>하고 <code class=\"language-text\">cur.fetchall()</code>을 하면 데이터를 뽑아낼 수 있다. 혹은\r\n<code class=\"language-text\">pd.read_sql_query(\"SELECT ~~~\", conn)</code> 이렇게 데이터프레임으로 바로 뽑을 수도 있다.</p>\n<p>column 옆에 <code class=\"language-text\">AS 어쩌구</code>를 붙여준다면 column의 이름을 <code class=\"language-text\">어쩌구</code>로 바꿔준다.</p>\n<h2 id=\"insertinto\" style=\"position:relative;\"><a href=\"#insertinto\" aria-label=\"insertinto permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>INSERT(INTO)</h2>\n<p><code class=\"language-text\">INSERT INTO tablename (column0, column1, ...) VALUES ('value0', 'value1', ...);</code></p>\n<p>여러 개를 한번에 넣을 수도 있다.</p>\n<p><code class=\"language-text\">INSERT INTO tablename (column0, column1, ...) VALUES ('value0', 'value1', ...), ('value5', 'value6', ...);</code></p>\n<h2 id=\"updateset\" style=\"position:relative;\"><a href=\"#updateset\" aria-label=\"updateset permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UPDATE(SET)</h2>\n<p>이미 존재하는 데이터를 수정할 때 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">UPDATE tablename SET email = '' WHERE id = 4;</code></pre></div>\n<p>tablename 테이블에 email열을 ''로 수정한다. 어느 데이터? id가 4인 데이터.\r\n<code class=\"language-text\">WHERE</code> 키워드를 사용하지 않으면 전부 ''로 수정된다.</p>\n<p>SET 뒤에 여러 열을 추가해 수정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">UPDATE tablename SET email = '', phone = '' WHERE id = 4;</code></pre></div>\n<h3 id=\"문자열-가공\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%9E%90%EC%97%B4-%EA%B0%80%EA%B3%B5\" aria-label=\"문자열 가공 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문자열 가공</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">UPDATE ~~\r\nSET fullname = UPPER(firstname || \",\" || lastname);</code></pre></div>\n<p>이런식으로 <code class=\"language-text\">||</code>혹은 <code class=\"language-text\">CONCAT()</code>을 통해 문자열을 합쳐주고, <code class=\"language-text\">UPPER()</code>함수를 통해 대문자로 변환도 가능하다.\r\n<code class=\"language-text\">LENGTH()</code>와 같이 길이를 반환해주는 함수도 있다. <a href=\"https://www.sqlitetutorial.net/sqlite-string-functions/\">더보기</a></p>\n<h2 id=\"deletefrom\" style=\"position:relative;\"><a href=\"#deletefrom\" aria-label=\"deletefrom permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DELETE(FROM)</h2>\n<p><strong>주의</strong>: <code class=\"language-text\">DROP</code>은 테이블 및 열을 떨구는 역할이다. 데이터를 삭제하는 것은 <code class=\"language-text\">DELETE</code>다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">DELETE FROM tablename WHERE id=33;</code></pre></div>\n<h2 id=\"order-by\" style=\"position:relative;\"><a href=\"#order-by\" aria-label=\"order by permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ORDER BY</h2>\n<h4 id=\"정렬하기\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0\" aria-label=\"정렬하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정렬하기</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table ORDER BY columnname;</code></pre></div>\n<p>기본은 오름차순이다. 맨 뒤에 <code class=\"language-text\">ASC</code>가 오거나 기본은 오름차순, <code class=\"language-text\">DESC</code>이 오면 내림차순이다.</p>\n<h4 id=\"여러-기준으로-정렬하기\" style=\"position:relative;\"><a href=\"#%EC%97%AC%EB%9F%AC-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0\" aria-label=\"여러 기준으로 정렬하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>여러 기준으로 정렬하기</h4>\n<p>구분해서 넣어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table ORDER BY column0 ASC, column1 DESC;</code></pre></div>\n<ul>\n<li><code class=\"language-text\">NULL</code>, <code class=\"language-text\">NONE</code>은 정렬 시 가장 작은 값으로 간주한다.</li>\n</ul>\n<h2 id=\"distinct\" style=\"position:relative;\"><a href=\"#distinct\" aria-label=\"distinct permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DISTINCT</h2>\n<h4 id=\"데이터-종류-확인중복제거\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98-%ED%99%95%EC%9D%B8%EC%A4%91%EB%B3%B5%EC%A0%9C%EA%B1%B0\" aria-label=\"데이터 종류 확인중복제거 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 종류 확인(중복제거)</h4>\n<p>특정 열에서 데이터의 종류가 얼마나 많은지 찾아보자.\r\n(df로 뽑아낸 상황)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">set(df['column'])</code></pre></div>\n<p>데이터 값을 중복 없이 리턴해준다.</p>\n<h4 id=\"데이터-종류별-수-확인\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98%EB%B3%84-%EC%88%98-%ED%99%95%EC%9D%B8\" aria-label=\"데이터 종류별 수 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 종류별 수 확인</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">df['coloumn'].value_counts</code></pre></div>\n<p>데이터 값 별 빈도를 리턴해준다.</p>\n<h3 id=\"sql문으로-중복-데이터-제거\" style=\"position:relative;\"><a href=\"#sql%EB%AC%B8%EC%9C%BC%EB%A1%9C-%EC%A4%91%EB%B3%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%9C%EA%B1%B0\" aria-label=\"sql문으로 중복 데이터 제거 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL문으로 중복 데이터 제거</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT DISTINCT column FROM table;</code></pre></div>\n<p>이러면 위 <strong>데이터 종류 확인(중복제거)</strong> 같은 결과가 나온다.</p>\n<h3 id=\"distinct-여러개\" style=\"position:relative;\"><a href=\"#distinct-%EC%97%AC%EB%9F%AC%EA%B0%9C\" aria-label=\"distinct 여러개 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DISTINCT 여러개</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT DISTINCT column0 column1 FROM table;</code></pre></div>\n<p><code class=\"language-text\">column0</code>와 <code class=\"language-text\">column1</code>이 둘다 중복되는 경우에만 지운다.</p>\n<h3 id=\"중요\" style=\"position:relative;\"><a href=\"#%EC%A4%91%EC%9A%94\" aria-label=\"중요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>중요</h3>\n<ul>\n<li><code class=\"language-text\">SELECT</code>시 <code class=\"language-text\">DISTINCT</code>한 열과 그냥 보통 열을 같이 고를 수 없다.</li>\n</ul>\n<p>그냥 <code class=\"language-text\">DISTINCT</code>를 걸면 선택하면 모든 열에 걸리게 된다.</p>\n<ul>\n<li><code class=\"language-text\">NULL</code>의 중복도 허용되지 않는다. DDL에서 <code class=\"language-text\">UNIQUE</code>가 NULL의 중복을 허용해주는 것과는 다르다.</li>\n</ul>\n<h2 id=\"where\" style=\"position:relative;\"><a href=\"#where\" aria-label=\"where permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WHERE</h2>\n<p>데이터를 SELECT할 때 보통 필터링 용도로 쓰인다.</p>\n<ol>\n<li>대소</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE column1 > 100;\r\nSELECT * FROM table WHERE number &lt;> 10;</code></pre></div>\n<ol start=\"2\">\n<li>범위</li>\n</ol>\n<p>양 끝은 포함된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE column1 BETWEEN 1 AND 30;</code></pre></div>\n<ol start=\"3\">\n<li>집합</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE column1 IN (1,2,3);</code></pre></div>\n<ol start=\"4\">\n<li>패턴</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE name LIKE '%John%';</code></pre></div>\n<ol start=\"5\">\n<li>NULL</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE name IS NULL;</code></pre></div>\n<p>등등</p>\n<h4 id=\"와일드카드-문자\" style=\"position:relative;\"><a href=\"#%EC%99%80%EC%9D%BC%EB%93%9C%EC%B9%B4%EB%93%9C-%EB%AC%B8%EC%9E%90\" aria-label=\"와일드카드 문자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>와일드카드 문자</h4>\n<ul>\n<li>%</li>\n</ul>\n<p>아무 문자열. '%picture'는 끝에 picture가 오기만하면 된다. '%pic%'은 아무 곳이나 pic이 들어가면 된다.</p>\n<ul>\n<li>_</li>\n</ul>\n<p>글자 하나</p>\n<ul>\n<li>[]</li>\n</ul>\n<p>범위 내 문자열 한개. '[1-3]'은 1-3사이 문자 하나를 뜻하고, '[a-f]'는 a-f사이 하나를 뜻함.</p>\n<ul>\n<li>[^]</li>\n</ul>\n<p>위의 여집합. [^1-3]은 1-3사이 문자열이 아닌 문자열 하나를 뜻함.</p>\n<ul>\n<li>'+'</li>\n</ul>\n<p>말 그대로 문자열 더하기</p>\n<h3 id=\"subquery\" style=\"position:relative;\"><a href=\"#subquery\" aria-label=\"subquery permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>subquery</h3>\n<p>필터링을 위해 다른 테이블의 정보가 필요하다면?</p>\n<p>예를 들어,\r\ntable \"영수증\" 에 고객이름(cust_name), 고객이 구매한 상품품번(item_num)이 있고\r\ntable \"상품\" 에 상품품번(item_num)과 상품 이름(item_name)이 있는 상황에서\r\n스마트폰을 산 고객의 명단이 궁금하다면?</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT cust_name \r\nFROM 영수증 \r\nWHERE item_num IN (\r\n\tSELECT item_num \r\n    FROM 물건 \r\n    WHERE item_name = '스마트폰'\r\n)</code></pre></div>\n<h2 id=\"limit\" style=\"position:relative;\"><a href=\"#limit\" aria-label=\"limit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LIMIT</h2>\n<p><code class=\"language-text\">LIMIT</code> 키워드를 사용하면 위 혹은 아래서부터 N개의 행만 보여준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table LIMIT 4;</code></pre></div>\n<p>위와 같은 코드는 위에서 4개까지 보여준다.</p>\n<p><code class=\"language-text\">OFFSET</code>을 뒤에 붙여주면 데이터를 몇개 덜어내고 그 다음부터 4개를 보여준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table LIMIT 4 OFFSET 4;</code></pre></div>\n<p><code class=\"language-text\">ORDER BY</code>를 사용해 정렬 후 사용하면 \"A등 ~ B등 추출하기\" 같은 것들이 된다.</p>\n<h2 id=\"join\" style=\"position:relative;\"><a href=\"#join\" aria-label=\"join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JOIN</h2>\n<p>테이블을 합병한다. 네가지 종류가 있다.</p>\n<ul>\n<li>INNER JOIN (교집합)</li>\n<li>LEFT JOIN, RIGHT JOIN</li>\n<li>OUTER JOIN (합집합)</li>\n</ul>\n<p>JOIN을 <code class=\"language-text\">FROM</code> 뒤에 줄줄이 붙여서 여러 테이블을 합병할 수 있다.</p>\n<h3 id=\"inner-join\" style=\"position:relative;\"><a href=\"#inner-join\" aria-label=\"inner join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>INNER JOIN</h3>\n<p><strong>두 테이블의 교집합만 살아남는다.</strong>\r\n<img src=\"https://velog.velcdn.com/images/ljho01/post/6970930b-0b53-4959-8659-9fc7e3c50a5a/image.png\" alt=\"microsoft docs\"></p>\n<p>SQL문은 다음과 비스무리하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT Date, CountryID, Units, Country\r\nFROM Lefttable \r\nINNER JOIN Righttable ON CountryID = ID</code></pre></div>\n<ol>\n<li>\n<p><code class=\"language-text\">SELECT</code>문은 <code class=\"language-text\">lefttable</code>에서 column들을 고르는게 아니라 두 테이블을 합병한 테이블에서 column들을 고른다</p>\n</li>\n<li>\n<p>두 테이블의 column명이 같다면 <code class=\"language-text\">테이블명.columnname</code> 식으로 적어주면 된다.</p>\n</li>\n</ol>\n<p>매번 테이블명. ~~~ 하기 싫다면 아래와 같이 테이블명에 이름을 더 붙여줄 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT l.Date, l.CountryID, l.Units, r.Country\r\nFROM Lefttable l\r\nINNER JOIN Righttable r ON l.CountryID = r.ID</code></pre></div>\n<ol start=\"3\">\n<li>2번 내용에서, <code class=\"language-text\">ON</code> 뒤에 비교하는 두 column의 이름이 같다면 <code class=\"language-text\">ON 조건</code> 대신 <code class=\"language-text\">USING(columnname)</code>을 사용하는 것이 간결하다.</li>\n</ol>\n<h4 id=\"번외-pandas로-테이블-합병하기\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EC%99%B8-pandas%EB%A1%9C-%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%95%A9%EB%B3%91%ED%95%98%EA%B8%B0\" aria-label=\"번외 pandas로 테이블 합병하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번외: <code class=\"language-text\">pandas</code>로 테이블 합병하기</h4>\n<p><code class=\"language-text\">pd.merge(df_a, df_b, left_on='CountryID', right_on='ID', how='inner'</code></p>\n<p>위의 예시와 같다.</p>\n<h3 id=\"left-join\" style=\"position:relative;\"><a href=\"#left-join\" aria-label=\"left join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LEFT JOIN</h3>\n<p><strong>왼쪽 테이블만 유지된다.</strong></p>\n<p><img src=\"https://velog.velcdn.com/images/ljho01/post/7e803b31-8c28-4db5-82ac-6bda6847b860/image.png\" alt=\"microsoft docs\"></p>\n<p>위의 <code class=\"language-text\">INNER JOIN</code>은 조건에 맞지않는 양 테이블의 데이터를 모두 버렸지만</p>\n<p><code class=\"language-text\">LEFT JOIN</code> 은 왼쪽 테이블을 유지하면서 조건에 맞는 오른쪽 테이블의 데이터를 불러오는 느낌이다.</p>\n<p>SQL문은 <code class=\"language-text\">INNER JOIN</code>과 다를게 없다.</p>\n<h3 id=\"right-join\" style=\"position:relative;\"><a href=\"#right-join\" aria-label=\"right join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RIGHT JOIN</h3>\n<p><code class=\"language-text\">LEFT JOIN</code> 으로 대체 가능</p>\n<h3 id=\"outer-join\" style=\"position:relative;\"><a href=\"#outer-join\" aria-label=\"outer join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OUTER JOIN</h3>\n<p>합집합</p>\n<h3 id=\"번외--self-join\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EC%99%B8--self-join\" aria-label=\"번외  self join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번외 : SELF JOIN</h3>\n<p>테이블 하나를 두개로 보고 합병하는 것이다. 사실 한 테이블이지만 두 테이블로 생각하고 코드를 짜면 된다.\r\n<strong>테이블 뒤 별명을 만들어서 헷갈리지 않도록 한다.</strong></p>\n<h2 id=\"group-by\" style=\"position:relative;\"><a href=\"#group-by\" aria-label=\"group by permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GROUP BY</h2>\n<p><code class=\"language-text\">pd.pivot_table(df, index='columnname', aggfunc=np.sum)</code>\r\n위의 <code class=\"language-text\">pd.pivot_table()</code>과 유사하다.</p>\n<p>데이터프레임 df에서 index열을 기준으로 같은 것끼리 모아 aggfunc을 실행해준다.</p>\n<p>예를 들면 멜론차트에서 같은 가수가 부른 음원끼리 모아서 몇곡이 있는지를 계산하는 것이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT ArtistName, COUNT(TrackId) \r\nFROM tracks \r\nGROUP BY ArtistName</code></pre></div>\n<p>이러면 아티스트 이름, 트랙 수가 있는 테이블이 나온다.\r\n맨 윗줄에 <code class=\"language-text\">COUNT()</code>라는 함수가 있다. <code class=\"language-text\">pd.pivot_table()</code>로 치면 <code class=\"language-text\">aggfunc</code>과 같은 역할이다. 쓸 수 있는 함수는\r\n<code class=\"language-text\">SUM()</code>, <code class=\"language-text\">AVG()</code>, <code class=\"language-text\">COUNT()</code>, <code class=\"language-text\">MIN()</code>, <code class=\"language-text\">MAX()</code> 등이 있다.</p>\n<h3 id=\"having\" style=\"position:relative;\"><a href=\"#having\" aria-label=\"having permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HAVING</h3>\n<p><code class=\"language-text\">GROUP BY</code>에서 필터링이 필요할 때 사용한다. <code class=\"language-text\">HAVING</code> 뒤에 조건을 붙여주면 된다.</p>\n<h4 id=\"where과의-차이\" style=\"position:relative;\"><a href=\"#where%EA%B3%BC%EC%9D%98-%EC%B0%A8%EC%9D%B4\" aria-label=\"where과의 차이 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WHERE과의 차이?</h4>\n<p><code class=\"language-text\">WHERE</code>가 <code class=\"language-text\">GROUP BY</code>, <code class=\"language-text\">HAVING</code>보다 먼저 적용된다.\r\n일반적으로는 <code class=\"language-text\">WHERE</code>을 먼저 써주는게 빠르다. 그런데 <code class=\"language-text\">HAVING</code>을 써야만 하는 경우도 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT ArtistName, COUNT(TrackId) \r\nFROM tracks \r\nGROUP BY ArtistName\r\nHAVING COUNT(TrackId) = 2</code></pre></div>\n<p><code class=\"language-text\">GROUP BY</code>를 먼저 해야 aggregate 함수인 <code class=\"language-text\">COUNT</code>를 쓸 수 있으니 <code class=\"language-text\">WHERE</code>로는 불가능하다.</p>\n<h4 id=\"날짜-다루기\" style=\"position:relative;\"><a href=\"#%EB%82%A0%EC%A7%9C-%EB%8B%A4%EB%A3%A8%EA%B8%B0\" aria-label=\"날짜 다루기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>날짜 다루기</h4>\n<p><code class=\"language-text\">STRFTIME(a, b)</code>이라는 함수가 있는데, 날짜를 다루기 위한 함수이다.\r\n첫번째 인수에는 원하는 출력방식을, 두번째에는 시간 객체를 넣으면 된다.</p>\n<p>풀 시간에서 년도만 추출하고 싶다면\r\n<code class=\"language-text\">STRFTIME('%Y', Date)</code> 이렇게 사용하면 된다.</p>\n<h2 id=\"순서\" style=\"position:relative;\"><a href=\"#%EC%88%9C%EC%84%9C\" aria-label=\"순서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>순서</h2>\n<ul>\n<li>\n<p>SELECT FROM</p>\n</li>\n<li>\n<p>JOIN</p>\n</li>\n<li>\n<p>WHERE</p>\n</li>\n<li>\n<p>GROUP BY, HAVING</p>\n</li>\n<li>\n<p>ORDER BY</p>\n</li>\n<li>\n<p>LIMIT, OFFSET</p>\n</li>\n<li>\n<p>CREATE</p>\n</li>\n<li>\n<p>ALTER</p>\n</li>\n<li>\n<p>DROP</p>\n</li>\n</ul>\n<p>데이터를 정의하는 역할이다. db의 틀을 만들 때 사용하는 것들이다.</p>\n<h2 id=\"create-1\" style=\"position:relative;\"><a href=\"#create-1\" aria-label=\"create 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CREATE</h2>\n<p>테이블을 만들 때 사용</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">CREATE TABLE A (\r\n\tA_id INTEGER PRIMARY KEY,\r\n\tname TEXT NOT NULL, # NULL이 아님\r\n    password TEXT UNIQUE DEFAULT '1234', # 중복되지 않아야 함, 기본값 있음.\r\n    phone TEXT NOT NULL UNIQUE CHECK (LENGTH(phone) >= 10), # 길이가 10 이상이어야함\r\n);</code></pre></div>\n<p>여러 키워드들이 있다. <code class=\"language-text\">PRIMARY KEY</code>의 경우 아래와 같이 따로 지정해줘도 된다.\r\n<code class=\"language-text\">UNIQUE</code> 제약조건의 경우 <code class=\"language-text\">NULL</code>의 중복을 다루지 않는다. 모든 <code class=\"language-text\">NULL</code>이 고유하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">id INTEGER\r\nphone TEXT NOT NULL ...\r\nPRIMARY KEY(id)</code></pre></div>\n<p>데이터 테이블 <code class=\"language-text\">pandas</code>의 <code class=\"language-text\">dataframe</code>으로 불러오기\r\n<code class=\"language-text\">pd.read_sql_query(\"SELECT * FROM A\", conn)</code></p>\n<h3 id=\"외부-테이블-값-참조하기-1\" style=\"position:relative;\"><a href=\"#%EC%99%B8%EB%B6%80-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B0%92-%EC%B0%B8%EC%A1%B0%ED%95%98%EA%B8%B0-1\" aria-label=\"외부 테이블 값 참조하기 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>외부 테이블 값 참조하기</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">CREATE TABLE B (\r\n\tid INTEGER PRIMARY KEY,\r\n\tA_id INTEGER,\r\n    FOREIGN KEY (A_id)\r\n    \tREFERENCES A(A_id) # A 테이블의 A_id를 참조한다.\r\n        \tON DELETE CASCADE, # A 테이블에서 데이터가 삭제되면 B에서도 자동으로 삭제한다.\r\n)</code></pre></div>\n<p><code class=\"language-text\">ON UPDATE</code>, <code class=\"language-text\">ON CREATE</code> / <code class=\"language-text\">SET NULL</code>, <code class=\"language-text\">SET DEFAULT</code> 등등 많다. <a href=\"https://sqlitetutorial.net/sqlite-foreign-key/\">참고</a></p>\n<h2 id=\"alter-1\" style=\"position:relative;\"><a href=\"#alter-1\" aria-label=\"alter 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ALTER</h2>\n<p>기존 테이블을 바꿀 때 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">CREATE TABLE devices (\r\n\tname TEXT NOT NULL\r\n    model TEXT NOT NULL\r\n    serial INTEGER NOT NULL UNIQUE\r\n);</code></pre></div>\n<p>테이블의 이름 변경</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ALTER TABLE devices RENAME TO phones;</code></pre></div>\n<p>열 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ALTER TABLE phones ADD COLUMN factory TEXT NOT NULL;</code></pre></div>\n<p>열 이름 변경</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ALTER TABLE phones RENAME COLUMN factory TO country;</code></pre></div>\n<h2 id=\"drop-1\" style=\"position:relative;\"><a href=\"#drop-1\" aria-label=\"drop 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DROP</h2>\n<p>삭제하는 역할이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">DROP TABLE IF EXISTS phone; # 존재하면 삭제하기</code></pre></div>\n<h1 id=\"sqlite-덤프-1\" style=\"position:relative;\"><a href=\"#sqlite-%EB%8D%A4%ED%94%84-1\" aria-label=\"sqlite 덤프 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQLite 덤프</h1>\n<p>DB 내 테이블의 목록, 테이블의 구조 등을 불러온다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">script = \"\"\"\r\nSELECT name FROM sqlite_master\r\nWHERE \r\n\ttype = 'table' AND \r\n    name NOT LIKE 'sqlite_%'\r\n\"\"\"\r\ndf = pd.read_sql_query(script, conn)</code></pre></div>\n<p><code class=\"language-text\">sqlite_master</code>에서 전부를 뽑아내면 가장 많은 정보를 뽑을 수 있다.</p>\n<h1 id=\"dml-data-manipulation-language-1\" style=\"position:relative;\"><a href=\"#dml-data-manipulation-language-1\" aria-label=\"dml data manipulation language 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DML (Data Manipulation language)</h1>\n<p>테이블 내 데이터를 조작할 때 사용함\r\n<strong>CRUD\r\nSELECT(READ) / INSERT(CREATE) / UPDATE(UPDATE) / DELETE(DELETE)</strong></p>\n<h2 id=\"selectfrom-1\" style=\"position:relative;\"><a href=\"#selectfrom-1\" aria-label=\"selectfrom 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SELECT(FROM)</h2>\n<p><code class=\"language-text\">SELECT column0, column1, ... FROM tablename;</code></p>\n<p>파이썬의 경우 <code class=\"language-text\">cur.execute()</code>하고 <code class=\"language-text\">cur.fetchall()</code>을 하면 데이터를 뽑아낼 수 있다. 혹은\r\n<code class=\"language-text\">pd.read_sql_query(\"SELECT ~~~\", conn)</code> 이렇게 데이터프레임으로 바로 뽑을 수도 있다.</p>\n<p>column 옆에 <code class=\"language-text\">AS 어쩌구</code>를 붙여준다면 column의 이름을 <code class=\"language-text\">어쩌구</code>로 바꿔준다.</p>\n<h2 id=\"insertinto-1\" style=\"position:relative;\"><a href=\"#insertinto-1\" aria-label=\"insertinto 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>INSERT(INTO)</h2>\n<p><code class=\"language-text\">INSERT INTO tablename (column0, column1, ...) VALUES ('value0', 'value1', ...);</code></p>\n<p>여러 개를 한번에 넣을 수도 있다.</p>\n<p><code class=\"language-text\">INSERT INTO tablename (column0, column1, ...) VALUES ('value0', 'value1', ...), ('value5', 'value6', ...);</code></p>\n<h2 id=\"updateset-1\" style=\"position:relative;\"><a href=\"#updateset-1\" aria-label=\"updateset 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UPDATE(SET)</h2>\n<p>이미 존재하는 데이터를 수정할 때 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">UPDATE tablename SET email = '' WHERE id = 4;</code></pre></div>\n<p>tablename 테이블에 email열을 ''로 수정한다. 어느 데이터? id가 4인 데이터.\r\n<code class=\"language-text\">WHERE</code> 키워드를 사용하지 않으면 전부 ''로 수정된다.</p>\n<p>SET 뒤에 여러 열을 추가해 수정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">UPDATE tablename SET email = '', phone = '' WHERE id = 4;</code></pre></div>\n<h3 id=\"문자열-가공-1\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%9E%90%EC%97%B4-%EA%B0%80%EA%B3%B5-1\" aria-label=\"문자열 가공 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문자열 가공</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">UPDATE ~~\r\nSET fullname = UPPER(firstname || \",\" || lastname);</code></pre></div>\n<p>이런식으로 <code class=\"language-text\">||</code>혹은 <code class=\"language-text\">CONCAT()</code>을 통해 문자열을 합쳐주고, <code class=\"language-text\">UPPER()</code>함수를 통해 대문자로 변환도 가능하다.\r\n<code class=\"language-text\">LENGTH()</code>와 같이 길이를 반환해주는 함수도 있다. <a href=\"https://www.sqlitetutorial.net/sqlite-string-functions/\">더보기</a></p>\n<h2 id=\"deletefrom-1\" style=\"position:relative;\"><a href=\"#deletefrom-1\" aria-label=\"deletefrom 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DELETE(FROM)</h2>\n<p><strong>주의</strong>: <code class=\"language-text\">DROP</code>은 테이블 및 열을 떨구는 역할이다. 데이터를 삭제하는 것은 <code class=\"language-text\">DELETE</code>다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">DELETE FROM tablename WHERE id=33;</code></pre></div>\n<h2 id=\"order-by-1\" style=\"position:relative;\"><a href=\"#order-by-1\" aria-label=\"order by 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ORDER BY</h2>\n<h4 id=\"정렬하기-1\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0-1\" aria-label=\"정렬하기 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정렬하기</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table ORDER BY columnname;</code></pre></div>\n<p>기본은 오름차순이다. 맨 뒤에 <code class=\"language-text\">ASC</code>가 오거나 기본은 오름차순, <code class=\"language-text\">DESC</code>이 오면 내림차순이다.</p>\n<h4 id=\"여러-기준으로-정렬하기-1\" style=\"position:relative;\"><a href=\"#%EC%97%AC%EB%9F%AC-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0-1\" aria-label=\"여러 기준으로 정렬하기 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>여러 기준으로 정렬하기</h4>\n<p>구분해서 넣어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table ORDER BY column0 ASC, column1 DESC;</code></pre></div>\n<ul>\n<li><code class=\"language-text\">NULL</code>, <code class=\"language-text\">NONE</code>은 정렬 시 가장 작은 값으로 간주한다.</li>\n</ul>\n<h2 id=\"distinct-1\" style=\"position:relative;\"><a href=\"#distinct-1\" aria-label=\"distinct 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DISTINCT</h2>\n<h4 id=\"데이터-종류-확인중복제거-1\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98-%ED%99%95%EC%9D%B8%EC%A4%91%EB%B3%B5%EC%A0%9C%EA%B1%B0-1\" aria-label=\"데이터 종류 확인중복제거 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 종류 확인(중복제거)</h4>\n<p>특정 열에서 데이터의 종류가 얼마나 많은지 찾아보자.\r\n(df로 뽑아낸 상황)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">set(df['column'])</code></pre></div>\n<p>데이터 값을 중복 없이 리턴해준다.</p>\n<h4 id=\"데이터-종류별-수-확인-1\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98%EB%B3%84-%EC%88%98-%ED%99%95%EC%9D%B8-1\" aria-label=\"데이터 종류별 수 확인 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 종류별 수 확인</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">df['coloumn'].value_counts</code></pre></div>\n<p>데이터 값 별 빈도를 리턴해준다.</p>\n<h3 id=\"sql문으로-중복-데이터-제거-1\" style=\"position:relative;\"><a href=\"#sql%EB%AC%B8%EC%9C%BC%EB%A1%9C-%EC%A4%91%EB%B3%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%9C%EA%B1%B0-1\" aria-label=\"sql문으로 중복 데이터 제거 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL문으로 중복 데이터 제거</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT DISTINCT column FROM table;</code></pre></div>\n<p>이러면 위 <strong>데이터 종류 확인(중복제거)</strong> 같은 결과가 나온다.</p>\n<h3 id=\"distinct-여러개-1\" style=\"position:relative;\"><a href=\"#distinct-%EC%97%AC%EB%9F%AC%EA%B0%9C-1\" aria-label=\"distinct 여러개 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DISTINCT 여러개</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT DISTINCT column0 column1 FROM table;</code></pre></div>\n<p><code class=\"language-text\">column0</code>와 <code class=\"language-text\">column1</code>이 둘다 중복되는 경우에만 지운다.</p>\n<h3 id=\"중요-1\" style=\"position:relative;\"><a href=\"#%EC%A4%91%EC%9A%94-1\" aria-label=\"중요 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>중요</h3>\n<ul>\n<li><code class=\"language-text\">SELECT</code>시 <code class=\"language-text\">DISTINCT</code>한 열과 그냥 보통 열을 같이 고를 수 없다.</li>\n</ul>\n<p>그냥 <code class=\"language-text\">DISTINCT</code>를 걸면 선택하면 모든 열에 걸리게 된다.</p>\n<ul>\n<li><code class=\"language-text\">NULL</code>의 중복도 허용되지 않는다. DDL에서 <code class=\"language-text\">UNIQUE</code>가 NULL의 중복을 허용해주는 것과는 다르다.</li>\n</ul>\n<h2 id=\"where-1\" style=\"position:relative;\"><a href=\"#where-1\" aria-label=\"where 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WHERE</h2>\n<p>데이터를 SELECT할 때 보통 필터링 용도로 쓰인다.</p>\n<ol>\n<li>대소</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE column1 > 100;\r\nSELECT * FROM table WHERE number &lt;> 10;</code></pre></div>\n<ol start=\"2\">\n<li>범위</li>\n</ol>\n<p>양 끝은 포함된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE column1 BETWEEN 1 AND 30;</code></pre></div>\n<ol start=\"3\">\n<li>집합</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE column1 IN (1,2,3);</code></pre></div>\n<ol start=\"4\">\n<li>패턴</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE name LIKE '%John%';</code></pre></div>\n<ol start=\"5\">\n<li>NULL</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table WHERE name IS NULL;</code></pre></div>\n<p>등등</p>\n<h4 id=\"와일드카드-문자-1\" style=\"position:relative;\"><a href=\"#%EC%99%80%EC%9D%BC%EB%93%9C%EC%B9%B4%EB%93%9C-%EB%AC%B8%EC%9E%90-1\" aria-label=\"와일드카드 문자 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>와일드카드 문자</h4>\n<ul>\n<li>%</li>\n</ul>\n<p>아무 문자열. '%picture'는 끝에 picture가 오기만하면 된다. '%pic%'은 아무 곳이나 pic이 들어가면 된다.</p>\n<ul>\n<li>_</li>\n</ul>\n<p>글자 하나</p>\n<ul>\n<li>[]</li>\n</ul>\n<p>범위 내 문자열 한개. '[1-3]'은 1-3사이 문자 하나를 뜻하고, '[a-f]'는 a-f사이 하나를 뜻함.</p>\n<ul>\n<li>[^]</li>\n</ul>\n<p>위의 여집합. [^1-3]은 1-3사이 문자열이 아닌 문자열 하나를 뜻함.</p>\n<ul>\n<li>'+'</li>\n</ul>\n<p>말 그대로 문자열 더하기</p>\n<h3 id=\"subquery-1\" style=\"position:relative;\"><a href=\"#subquery-1\" aria-label=\"subquery 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>subquery</h3>\n<p>필터링을 위해 다른 테이블의 정보가 필요하다면?</p>\n<p>예를 들어,\r\ntable \"영수증\" 에 고객이름(cust_name), 고객이 구매한 상품품번(item_num)이 있고\r\ntable \"상품\" 에 상품품번(item_num)과 상품 이름(item_name)이 있는 상황에서\r\n스마트폰을 산 고객의 명단이 궁금하다면?</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT cust_name \r\nFROM 영수증 \r\nWHERE item_num IN (\r\n\tSELECT item_num \r\n    FROM 물건 \r\n    WHERE item_name = '스마트폰'\r\n)</code></pre></div>\n<h2 id=\"limit-1\" style=\"position:relative;\"><a href=\"#limit-1\" aria-label=\"limit 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LIMIT</h2>\n<p><code class=\"language-text\">LIMIT</code> 키워드를 사용하면 위 혹은 아래서부터 N개의 행만 보여준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table LIMIT 4;</code></pre></div>\n<p>위와 같은 코드는 위에서 4개까지 보여준다.</p>\n<p><code class=\"language-text\">OFFSET</code>을 뒤에 붙여주면 데이터를 몇개 덜어내고 그 다음부터 4개를 보여준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT * FROM table LIMIT 4 OFFSET 4;</code></pre></div>\n<p><code class=\"language-text\">ORDER BY</code>를 사용해 정렬 후 사용하면 \"A등 ~ B등 추출하기\" 같은 것들이 된다.</p>\n<h2 id=\"join-1\" style=\"position:relative;\"><a href=\"#join-1\" aria-label=\"join 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JOIN</h2>\n<p>테이블을 합병한다. 네가지 종류가 있다.</p>\n<ul>\n<li>INNER JOIN (교집합)</li>\n<li>LEFT JOIN, RIGHT JOIN</li>\n<li>OUTER JOIN (합집합)</li>\n</ul>\n<p>JOIN을 <code class=\"language-text\">FROM</code> 뒤에 줄줄이 붙여서 여러 테이블을 합병할 수 있다.</p>\n<h3 id=\"inner-join-1\" style=\"position:relative;\"><a href=\"#inner-join-1\" aria-label=\"inner join 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>INNER JOIN</h3>\n<p><strong>두 테이블의 교집합만 살아남는다.</strong>\r\n<img src=\"https://velog.velcdn.com/images/ljho01/post/6970930b-0b53-4959-8659-9fc7e3c50a5a/image.png\" alt=\"microsoft docs\"></p>\n<p>SQL문은 다음과 비스무리하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT Date, CountryID, Units, Country\r\nFROM Lefttable \r\nINNER JOIN Righttable ON CountryID = ID</code></pre></div>\n<ol>\n<li>\n<p><code class=\"language-text\">SELECT</code>문은 <code class=\"language-text\">lefttable</code>에서 column들을 고르는게 아니라 두 테이블을 합병한 테이블에서 column들을 고른다</p>\n</li>\n<li>\n<p>두 테이블의 column명이 같다면 <code class=\"language-text\">테이블명.columnname</code> 식으로 적어주면 된다.</p>\n</li>\n</ol>\n<p>매번 테이블명. ~~~ 하기 싫다면 아래와 같이 테이블명에 이름을 더 붙여줄 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT l.Date, l.CountryID, l.Units, r.Country\r\nFROM Lefttable l\r\nINNER JOIN Righttable r ON l.CountryID = r.ID</code></pre></div>\n<ol start=\"3\">\n<li>2번 내용에서, <code class=\"language-text\">ON</code> 뒤에 비교하는 두 column의 이름이 같다면 <code class=\"language-text\">ON 조건</code> 대신 <code class=\"language-text\">USING(columnname)</code>을 사용하는 것이 간결하다.</li>\n</ol>\n<h4 id=\"번외-pandas로-테이블-합병하기-1\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EC%99%B8-pandas%EB%A1%9C-%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%95%A9%EB%B3%91%ED%95%98%EA%B8%B0-1\" aria-label=\"번외 pandas로 테이블 합병하기 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번외: <code class=\"language-text\">pandas</code>로 테이블 합병하기</h4>\n<p><code class=\"language-text\">pd.merge(df_a, df_b, left_on='CountryID', right_on='ID', how='inner'</code></p>\n<p>위의 예시와 같다.</p>\n<h3 id=\"left-join-1\" style=\"position:relative;\"><a href=\"#left-join-1\" aria-label=\"left join 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LEFT JOIN</h3>\n<p><strong>왼쪽 테이블만 유지된다.</strong></p>\n<p><img src=\"https://velog.velcdn.com/images/ljho01/post/7e803b31-8c28-4db5-82ac-6bda6847b860/image.png\" alt=\"microsoft docs\"></p>\n<p>위의 <code class=\"language-text\">INNER JOIN</code>은 조건에 맞지않는 양 테이블의 데이터를 모두 버렸지만</p>\n<p><code class=\"language-text\">LEFT JOIN</code> 은 왼쪽 테이블을 유지하면서 조건에 맞는 오른쪽 테이블의 데이터를 불러오는 느낌이다.</p>\n<p>SQL문은 <code class=\"language-text\">INNER JOIN</code>과 다를게 없다.</p>\n<h3 id=\"right-join-1\" style=\"position:relative;\"><a href=\"#right-join-1\" aria-label=\"right join 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RIGHT JOIN</h3>\n<p><code class=\"language-text\">LEFT JOIN</code> 으로 대체 가능</p>\n<h3 id=\"outer-join-1\" style=\"position:relative;\"><a href=\"#outer-join-1\" aria-label=\"outer join 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OUTER JOIN</h3>\n<p>합집합</p>\n<h3 id=\"번외--self-join-1\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EC%99%B8--self-join-1\" aria-label=\"번외  self join 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번외 : SELF JOIN</h3>\n<p>테이블 하나를 두개로 보고 합병하는 것이다. 사실 한 테이블이지만 두 테이블로 생각하고 코드를 짜면 된다.\r\n<strong>테이블 뒤 별명을 만들어서 헷갈리지 않도록 한다.</strong></p>\n<h2 id=\"group-by-1\" style=\"position:relative;\"><a href=\"#group-by-1\" aria-label=\"group by 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GROUP BY</h2>\n<p><code class=\"language-text\">pd.pivot_table(df, index='columnname', aggfunc=np.sum)</code>\r\n위의 <code class=\"language-text\">pd.pivot_table()</code>과 유사하다.</p>\n<p>데이터프레임 df에서 index열을 기준으로 같은 것끼리 모아 aggfunc을 실행해준다.</p>\n<p>예를 들면 멜론차트에서 같은 가수가 부른 음원끼리 모아서 몇곡이 있는지를 계산하는 것이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT ArtistName, COUNT(TrackId) \r\nFROM tracks \r\nGROUP BY ArtistName</code></pre></div>\n<p>이러면 아티스트 이름, 트랙 수가 있는 테이블이 나온다.\r\n맨 윗줄에 <code class=\"language-text\">COUNT()</code>라는 함수가 있다. <code class=\"language-text\">pd.pivot_table()</code>로 치면 <code class=\"language-text\">aggfunc</code>과 같은 역할이다. 쓸 수 있는 함수는\r\n<code class=\"language-text\">SUM()</code>, <code class=\"language-text\">AVG()</code>, <code class=\"language-text\">COUNT()</code>, <code class=\"language-text\">MIN()</code>, <code class=\"language-text\">MAX()</code> 등이 있다.</p>\n<h3 id=\"having-1\" style=\"position:relative;\"><a href=\"#having-1\" aria-label=\"having 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HAVING</h3>\n<p><code class=\"language-text\">GROUP BY</code>에서 필터링이 필요할 때 사용한다. <code class=\"language-text\">HAVING</code> 뒤에 조건을 붙여주면 된다.</p>\n<h4 id=\"where과의-차이-1\" style=\"position:relative;\"><a href=\"#where%EA%B3%BC%EC%9D%98-%EC%B0%A8%EC%9D%B4-1\" aria-label=\"where과의 차이 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WHERE과의 차이?</h4>\n<p><code class=\"language-text\">WHERE</code>가 <code class=\"language-text\">GROUP BY</code>, <code class=\"language-text\">HAVING</code>보다 먼저 적용된다.\r\n일반적으로는 <code class=\"language-text\">WHERE</code>을 먼저 써주는게 빠르다. 그런데 <code class=\"language-text\">HAVING</code>을 써야만 하는 경우도 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT ArtistName, COUNT(TrackId) \r\nFROM tracks \r\nGROUP BY ArtistName\r\nHAVING COUNT(TrackId) = 2</code></pre></div>\n<p><code class=\"language-text\">GROUP BY</code>를 먼저 해야 aggregate 함수인 <code class=\"language-text\">COUNT</code>를 쓸 수 있으니 <code class=\"language-text\">WHERE</code>로는 불가능하다.</p>\n<h4 id=\"날짜-다루기-1\" style=\"position:relative;\"><a href=\"#%EB%82%A0%EC%A7%9C-%EB%8B%A4%EB%A3%A8%EA%B8%B0-1\" aria-label=\"날짜 다루기 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>날짜 다루기</h4>\n<p><code class=\"language-text\">STRFTIME(a, b)</code>이라는 함수가 있는데, 날짜를 다루기 위한 함수이다.\r\n첫번째 인수에는 원하는 출력방식을, 두번째에는 시간 객체를 넣으면 된다.</p>\n<p>풀 시간에서 년도만 추출하고 싶다면\r\n<code class=\"language-text\">STRFTIME('%Y', Date)</code> 이렇게 사용하면 된다.</p>\n<h2 id=\"순서-1\" style=\"position:relative;\"><a href=\"#%EC%88%9C%EC%84%9C-1\" aria-label=\"순서 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>순서</h2>\n<ul>\n<li>SELECT FROM</li>\n<li>JOIN</li>\n<li>WHERE</li>\n<li>GROUP BY, HAVING</li>\n<li>ORDER BY</li>\n<li>LIMIT, OFFSET</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#ddl-data-definition-language\">DDL (Data Definition Language)</a></p>\n</li>\n<li>\n<p><a href=\"#ddl-data-definition-language-1\">DDL (Data Definition Language)</a></p>\n<ul>\n<li>\n<p><a href=\"#create\">CREATE</a></p>\n<ul>\n<li><a href=\"#%EC%99%B8%EB%B6%80-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B0%92-%EC%B0%B8%EC%A1%B0%ED%95%98%EA%B8%B0\">외부 테이블 값 참조하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#alter\">ALTER</a></p>\n</li>\n<li>\n<p><a href=\"#drop\">DROP</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#sqlite-%EB%8D%A4%ED%94%84\">SQLite 덤프</a></p>\n</li>\n<li>\n<p><a href=\"#dml-data-manipulation-language\">DML (Data Manipulation language)</a></p>\n<ul>\n<li>\n<p><a href=\"#selectfrom\">SELECT(FROM)</a></p>\n</li>\n<li>\n<p><a href=\"#insertinto\">INSERT(INTO)</a></p>\n</li>\n<li>\n<p><a href=\"#updateset\">UPDATE(SET)</a></p>\n<ul>\n<li><a href=\"#%EB%AC%B8%EC%9E%90%EC%97%B4-%EA%B0%80%EA%B3%B5\">문자열 가공</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#deletefrom\">DELETE(FROM)</a></p>\n</li>\n<li>\n<p><a href=\"#order-by\">ORDER BY</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0\">정렬하기</a></li>\n<li><a href=\"#%EC%97%AC%EB%9F%AC-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0\">여러 기준으로 정렬하기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#distinct\">DISTINCT</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98-%ED%99%95%EC%9D%B8%EC%A4%91%EB%B3%B5%EC%A0%9C%EA%B1%B0\">데이터 종류 확인(중복제거)</a></li>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98%EB%B3%84-%EC%88%98-%ED%99%95%EC%9D%B8\">데이터 종류별 수 확인</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#sql%EB%AC%B8%EC%9C%BC%EB%A1%9C-%EC%A4%91%EB%B3%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%9C%EA%B1%B0\">SQL문으로 중복 데이터 제거</a></p>\n</li>\n<li>\n<p><a href=\"#distinct-%EC%97%AC%EB%9F%AC%EA%B0%9C\">DISTINCT 여러개</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A4%91%EC%9A%94\">중요</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#where\">WHERE</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EC%99%80%EC%9D%BC%EB%93%9C%EC%B9%B4%EB%93%9C-%EB%AC%B8%EC%9E%90\">와일드카드 문자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#subquery\">subquery</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#limit\">LIMIT</a></p>\n</li>\n<li>\n<p><a href=\"#join\">JOIN</a></p>\n<ul>\n<li>\n<p><a href=\"#inner-join\">INNER JOIN</a></p>\n<ul>\n<li><a href=\"#%EB%B2%88%EC%99%B8-pandas%EB%A1%9C-%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%95%A9%EB%B3%91%ED%95%98%EA%B8%B0\">번외: <code class=\"language-text\">pandas</code>로 테이블 합병하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#left-join\">LEFT JOIN</a></p>\n</li>\n<li>\n<p><a href=\"#right-join\">RIGHT JOIN</a></p>\n</li>\n<li>\n<p><a href=\"#outer-join\">OUTER JOIN</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%B2%88%EC%99%B8--self-join\">번외 : SELF JOIN</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#group-by\">GROUP BY</a></p>\n<ul>\n<li>\n<p><a href=\"#having\">HAVING</a></p>\n<ul>\n<li><a href=\"#where%EA%B3%BC%EC%9D%98-%EC%B0%A8%EC%9D%B4\">WHERE과의 차이?</a></li>\n<li><a href=\"#%EB%82%A0%EC%A7%9C-%EB%8B%A4%EB%A3%A8%EA%B8%B0\">날짜 다루기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%88%9C%EC%84%9C\">순서</a></p>\n</li>\n<li>\n<p><a href=\"#create-1\">CREATE</a></p>\n<ul>\n<li><a href=\"#%EC%99%B8%EB%B6%80-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B0%92-%EC%B0%B8%EC%A1%B0%ED%95%98%EA%B8%B0-1\">외부 테이블 값 참조하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#alter-1\">ALTER</a></p>\n</li>\n<li>\n<p><a href=\"#drop-1\">DROP</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#sqlite-%EB%8D%A4%ED%94%84-1\">SQLite 덤프</a></p>\n</li>\n<li>\n<p><a href=\"#dml-data-manipulation-language-1\">DML (Data Manipulation language)</a></p>\n<ul>\n<li>\n<p><a href=\"#selectfrom-1\">SELECT(FROM)</a></p>\n</li>\n<li>\n<p><a href=\"#insertinto-1\">INSERT(INTO)</a></p>\n</li>\n<li>\n<p><a href=\"#updateset-1\">UPDATE(SET)</a></p>\n<ul>\n<li><a href=\"#%EB%AC%B8%EC%9E%90%EC%97%B4-%EA%B0%80%EA%B3%B5-1\">문자열 가공</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#deletefrom-1\">DELETE(FROM)</a></p>\n</li>\n<li>\n<p><a href=\"#order-by-1\">ORDER BY</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0-1\">정렬하기</a></li>\n<li><a href=\"#%EC%97%AC%EB%9F%AC-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EC%A0%95%EB%A0%AC%ED%95%98%EA%B8%B0-1\">여러 기준으로 정렬하기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#distinct-1\">DISTINCT</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98-%ED%99%95%EC%9D%B8%EC%A4%91%EB%B3%B5%EC%A0%9C%EA%B1%B0-1\">데이터 종류 확인(중복제거)</a></li>\n<li><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98%EB%B3%84-%EC%88%98-%ED%99%95%EC%9D%B8-1\">데이터 종류별 수 확인</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#sql%EB%AC%B8%EC%9C%BC%EB%A1%9C-%EC%A4%91%EB%B3%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%9C%EA%B1%B0-1\">SQL문으로 중복 데이터 제거</a></p>\n</li>\n<li>\n<p><a href=\"#distinct-%EC%97%AC%EB%9F%AC%EA%B0%9C-1\">DISTINCT 여러개</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A4%91%EC%9A%94-1\">중요</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#where-1\">WHERE</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EC%99%80%EC%9D%BC%EB%93%9C%EC%B9%B4%EB%93%9C-%EB%AC%B8%EC%9E%90-1\">와일드카드 문자</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#subquery-1\">subquery</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#limit-1\">LIMIT</a></p>\n</li>\n<li>\n<p><a href=\"#join-1\">JOIN</a></p>\n<ul>\n<li>\n<p><a href=\"#inner-join-1\">INNER JOIN</a></p>\n<ul>\n<li><a href=\"#%EB%B2%88%EC%99%B8-pandas%EB%A1%9C-%ED%85%8C%EC%9D%B4%EB%B8%94-%ED%95%A9%EB%B3%91%ED%95%98%EA%B8%B0-1\">번외: <code class=\"language-text\">pandas</code>로 테이블 합병하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#left-join-1\">LEFT JOIN</a></p>\n</li>\n<li>\n<p><a href=\"#right-join-1\">RIGHT JOIN</a></p>\n</li>\n<li>\n<p><a href=\"#outer-join-1\">OUTER JOIN</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%B2%88%EC%99%B8--self-join-1\">번외 : SELF JOIN</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#group-by-1\">GROUP BY</a></p>\n<ul>\n<li>\n<p><a href=\"#having-1\">HAVING</a></p>\n<ul>\n<li><a href=\"#where%EA%B3%BC%EC%9D%98-%EC%B0%A8%EC%9D%B4-1\">WHERE과의 차이?</a></li>\n<li><a href=\"#%EB%82%A0%EC%A7%9C-%EB%8B%A4%EB%A3%A8%EA%B8%B0-1\">날짜 다루기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%88%9C%EC%84%9C-1\">순서</a></p>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"SQL/DDL, DML","date":"September 08, 2022","description":null,"category":"AI"}},"previous":{"fields":{"slug":"/GooglePhoto/"},"frontmatter":{"title":"구글 포토 사진 일괄 저장 및 정리"}},"next":{"fields":{"slug":"/Hoisting/"},"frontmatter":{"title":"JS/호이스팅(Hoisting)"}},"allMarkdownRemark":{"totalCount":22,"group":[{"fieldValue":"AI","totalCount":14},{"fieldValue":"Algorithm","totalCount":3},{"fieldValue":"Data Structure","totalCount":1},{"fieldValue":"Gatsby","totalCount":1},{"fieldValue":"JavaScript","totalCount":2},{"fieldValue":"Python","totalCount":1}]}},"pageContext":{"id":"7f0d1f0b-ca5a-5ecd-b24d-3bb2557eabd4","previousPostId":"fadbbf33-71d1-56fa-8f50-fb207151e224","nextPostId":"3b759edf-f2f3-5dca-8550-57737866a71e"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}